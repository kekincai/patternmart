var c=Object.defineProperty;var m=(e,t,s)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var r=(e,t,s)=>m(e,typeof t!="symbol"?t+"":t,s);import{D as n}from"./index-BbVyqgXj.js";class l{constructor(t,s){r(this,"formatter");this.formatter=new Intl.NumberFormat(t,{style:"currency",currency:s})}format(t){return this.formatter.format(t)}}const i=class i{constructor(){r(this,"pool",new Map);r(this,"hits",0);r(this,"misses",0)}static getInstance(){return i.instance||(i.instance=new i),i.instance}getFormatter(t,s){const o=`${t}_${s}`;if(this.pool.has(o))return this.hits++,n.log("Flyweight",`复用格式化器: ${o}`),this.pool.get(o);this.misses++,n.log("Flyweight",`创建新格式化器: ${o}`);const h=new l(t,s);return this.pool.set(o,h),h}getStats(){const t=this.hits+this.misses;return{size:this.pool.size,hits:this.hits,misses:this.misses,hitRate:t>0?this.hits/t:0}}clear(){this.pool.clear(),this.hits=0,this.misses=0}};r(i,"instance",null);let a=i;export{a as MoneyFormatterPool};
